
<!DOCTYPE html>

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta charset="utf-8" />
    <title>Database Metadata &#8212; Codeigniter 1.0 documentation</title>
    <link rel="stylesheet" href="../../../_static/pyramid.css" type="text/css" />
    <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
    <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
    <script type="text/javascript" src="../../../_static/jquery.js"></script>
    <script type="text/javascript" src="../../../_static/underscore.js"></script>
    <script type="text/javascript" src="../../../_static/doctools.js"></script>
    <script type="text/javascript" src="../../../_static/language_data.js"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Neuton&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Nobile:regular,italic,bold,bolditalic&amp;subset=latin" type="text/css" media="screen" charset="utf-8" />
<!--[if lte IE 6]>
<link rel="stylesheet" href="../../../_static/ie6.css" type="text/css" media="screen" charset="utf-8" />
<![endif]-->

  </head><body>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Codeigniter 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="database-metadata">
<h1>Database Metadata<a class="headerlink" href="#database-metadata" title="Permalink to this headline">¶</a></h1>
<div class="section" id="table-metadata">
<h2>Table MetaData<a class="headerlink" href="#table-metadata" title="Permalink to this headline">¶</a></h2>
<p>These functions let you fetch table information.</p>
<div class="section" id="list-the-tables-in-your-database">
<h3>List the Tables in Your Database<a class="headerlink" href="#list-the-tables-in-your-database" title="Permalink to this headline">¶</a></h3>
<p><strong>$this-&gt;db-&gt;list_tables();</strong></p>
<p>Returns an array containing the names of all the tables in the database
you are currently connected to. Example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$tables = $this-&gt;db-&gt;list_tables();

foreach ($tables as $table)
{
        echo $table;
}
</pre></div>
</div>
</div>
<div class="section" id="determine-if-a-table-exists">
<h3>Determine If a Table Exists<a class="headerlink" href="#determine-if-a-table-exists" title="Permalink to this headline">¶</a></h3>
<p><strong>$this-&gt;db-&gt;table_exists();</strong></p>
<p>Sometimes it’s helpful to know whether a particular table exists before
running an operation on it. Returns a boolean TRUE/FALSE. Usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if ($this-&gt;db-&gt;table_exists(&#39;table_name&#39;))
{
        // some code...
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <em>table_name</em> with the name of the table you are looking for.</p>
</div>
</div>
</div>
<div class="section" id="field-metadata">
<h2>Field MetaData<a class="headerlink" href="#field-metadata" title="Permalink to this headline">¶</a></h2>
<div class="section" id="list-the-fields-in-a-table">
<h3>List the Fields in a Table<a class="headerlink" href="#list-the-fields-in-a-table" title="Permalink to this headline">¶</a></h3>
<p><strong>$this-&gt;db-&gt;list_fields()</strong></p>
<p>Returns an array containing the field names. This query can be called
two ways:</p>
<p>1. You can supply the table name and call it from the $this-&gt;db-&gt;
object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$fields = $this-&gt;db-&gt;list_fields(&#39;table_name&#39;);

foreach ($fields as $field)
{
        echo $field;
}
</pre></div>
</div>
<p>2. You can gather the field names associated with any query you run by
calling the function from your query result object:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;query(&#39;SELECT * FROM some_table&#39;);

foreach ($query-&gt;list_fields() as $field)
{
        echo $field;
}
</pre></div>
</div>
</div>
<div class="section" id="determine-if-a-field-is-present-in-a-table">
<h3>Determine If a Field is Present in a Table<a class="headerlink" href="#determine-if-a-field-is-present-in-a-table" title="Permalink to this headline">¶</a></h3>
<p><strong>$this-&gt;db-&gt;field_exists()</strong></p>
<p>Sometimes it’s helpful to know whether a particular field exists before
performing an action. Returns a boolean TRUE/FALSE. Usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>if ($this-&gt;db-&gt;field_exists(&#39;field_name&#39;, &#39;table_name&#39;))
{
        // some code...
}
</pre></div>
</div>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Replace <em>field_name</em> with the name of the column you are looking
for, and replace <em>table_name</em> with the name of the table you are
looking for.</p>
</div>
</div>
<div class="section" id="retrieve-field-metadata">
<h3>Retrieve Field Metadata<a class="headerlink" href="#retrieve-field-metadata" title="Permalink to this headline">¶</a></h3>
<p><strong>$this-&gt;db-&gt;field_data()</strong></p>
<p>Returns an array of objects containing field information.</p>
<p>Sometimes it’s helpful to gather the field names or other metadata, like
the column type, max length, etc.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not all databases provide meta-data.</p>
</div>
<p>Usage example:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$fields = $this-&gt;db-&gt;field_data(&#39;table_name&#39;);

foreach ($fields as $field)
{
        echo $field-&gt;name;
        echo $field-&gt;type;
        echo $field-&gt;max_length;
        echo $field-&gt;primary_key;
}
</pre></div>
</div>
<p>If you have run a query already you can use the result object instead of
supplying the table name:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$query = $this-&gt;db-&gt;query(&quot;YOUR QUERY&quot;);
$fields = $query-&gt;field_data();
</pre></div>
</div>
<p>The following data is available from this function if supported by your
database:</p>
<ul class="simple">
<li><p>name - column name</p></li>
<li><p>max_length - maximum length of the column</p></li>
<li><p>primary_key - 1 if the column is a primary key</p></li>
<li><p>type - the type of the column</p></li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../../index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Database Metadata</a><ul>
<li><a class="reference internal" href="#table-metadata">Table MetaData</a><ul>
<li><a class="reference internal" href="#list-the-tables-in-your-database">List the Tables in Your Database</a></li>
<li><a class="reference internal" href="#determine-if-a-table-exists">Determine If a Table Exists</a></li>
</ul>
</li>
<li><a class="reference internal" href="#field-metadata">Field MetaData</a><ul>
<li><a class="reference internal" href="#list-the-fields-in-a-table">List the Fields in a Table</a></li>
<li><a class="reference internal" href="#determine-if-a-field-is-present-in-a-table">Determine If a Field is Present in a Table</a></li>
<li><a class="reference internal" href="#retrieve-field-metadata">Retrieve Field Metadata</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="../../../_sources/user_guide_src/source/database/metadata.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" />
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../../genindex.html" title="General Index"
             >index</a></li>
        <li class="nav-item nav-item-0"><a href="../../../index.html">Codeigniter 1.0 documentation</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2019, Thomas Wong, Sukh Khera, Evan Sundin.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 2.2.2.
    </div>
  </body>
</html>